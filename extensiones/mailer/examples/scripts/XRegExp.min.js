var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");!function(e){function d(e,t){if(!XRegExp.isRegExp(e))throw TypeError("type RegExp expected");var n=e._xregexp;return e=XRegExp(e.source,h(e)+(t||"")),n&&(e._xregexp={source:n.source,captureNames:n.captureNames?n.captureNames.slice(0):null}),e}function h(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function p(e,t,n,i){var s,l,c,o=r.length;a=!0;try{for(;o--;)if(c=r[o],n&c.scope&&(!c.trigger||c.trigger.call(i))&&(c.pattern.lastIndex=t,l=c.pattern.exec(e),l&&l.index===t)){s={output:c.handler.call(i,l,n),match:l};break}}catch(u){throw u}finally{a=!1}return s}function f(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}XRegExp=function(t,i){var c,h,f,m,g,r=[],s=XRegExp.OUTSIDE_CLASS,l=0;if(XRegExp.isRegExp(t)){if(i!==e)throw TypeError("can't supply flags when constructing one RegExp from another");return d(t)}if(a)throw Error("can't call the XRegExp constructor within token definition functions");for(i=i||"",c={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return i.indexOf(e)>-1},setFlag:function(e){i+=e}};l<t.length;)h=p(t,l,s,c),h?(r.push(h.output),l+=h.match[0].length||1):(f=o.exec.call(u[s],t.slice(l)))?(r.push(f[0]),l+=f[0].length):(m=t.charAt(l),"["===m?s=XRegExp.INSIDE_CLASS:"]"===m&&(s=XRegExp.OUTSIDE_CLASS),r.push(m),l++);return g=RegExp(r.join(""),o.replace.call(i,n,"")),g._xregexp={source:t,captureNames:c.hasNamedCapture?c.captureNames:null},g},XRegExp.version="1.5.1",XRegExp.INSIDE_CLASS=1,XRegExp.OUTSIDE_CLASS=2;var t=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,n=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,i=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,a=!1,r=[],o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=o.exec.call(/()??/,"")[1]===e,l=function(){var e=/^/g;return o.test.call(e,""),!e.lastIndex}(),c=RegExp.prototype.sticky!==e,u={};u[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,u[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,XRegExp.addToken=function(e,t,n,i){r.push({pattern:d(e,"g"+(c?"y":"")),handler:t,scope:n||XRegExp.OUTSIDE_CLASS,trigger:i||null})},XRegExp.cache=function(e,t){var n=e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=XRegExp(e,t))},XRegExp.copyAsGlobal=function(e){return d(e,"g")},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.execAt=function(e,t,n,i){var r,a=d(t,"g"+(i&&c?"y":""));return a.lastIndex=n=n||0,r=a.exec(e),i&&r&&r.index!==n&&(r=null),t.global&&(t.lastIndex=r?a.lastIndex:0),r},XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}},XRegExp.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},XRegExp.iterate=function(e,t,n,i){for(var o,a=d(t,"g"),r=-1;o=a.exec(e);)t.global&&(t.lastIndex=a.lastIndex),n.call(i,o,++r,e,t),a.lastIndex===o.index&&a.lastIndex++;t.global&&(t.lastIndex=0)},XRegExp.matchChain=function(e,t){return function n(e,i){var s,a=t[i].regex?t[i]:{regex:t[i]},r=d(a.regex,"g"),o=[];for(s=0;s<e.length;s++)XRegExp.iterate(e[s],r,function(e){o.push(a.backref?e[a.backref]||"":e[0])});return i!==t.length-1&&o.length?n(o,i+1):o}([e],0)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.exec=function(t){var n,i,a,r;if(this.global||(r=this.lastIndex),n=o.exec.apply(this,arguments)){if(!s&&n.length>1&&f(n,"")>-1&&(a=RegExp(this.source,o.replace.call(h(this),"g","")),o.replace.call((t+"").slice(n.index),a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(n[t]=e)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<n.length;c++)i=this._xregexp.captureNames[c-1],i&&(n[i]=n[c]);!l&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return this.global||(this.lastIndex=r),n},RegExp.prototype.test=function(e){var t,n;return this.global||(n=this.lastIndex),t=o.exec.call(this,e),t&&!l&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,this.global||(this.lastIndex=n),!!t},String.prototype.match=function(e){if(XRegExp.isRegExp(e)||(e=RegExp(e)),e.global){var t=o.match.apply(this,arguments);return e.lastIndex=0,t}return e.exec(this)},String.prototype.replace=function(e,n){var a,r,s,l,i=XRegExp.isRegExp(e);return i?(e._xregexp&&(a=e._xregexp.captureNames),e.global||(l=e.lastIndex)):e+="","[object Function]"===Object.prototype.toString.call(n)?r=o.replace.call(this+"",e,function(){if(a){arguments[0]=new String(arguments[0]);for(var t=0;t<a.length;t++)a[t]&&(arguments[0][a[t]]=arguments[t+1])}return i&&e.global&&(e.lastIndex=arguments[arguments.length-2]+arguments[0].length),n.apply(null,arguments)}):(s=this+"",r=o.replace.call(s,e,function(){var e=arguments;return o.replace.call(n+"",t,function(t,n,i){if(!n){var o=+i;return o<=e.length-3?e[o]:(o=a?f(a,i):-1,o>-1?e[o+1]:t)}switch(n){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var r="";if(n=+n,!n)return t;for(;n>e.length-3;)r=String.prototype.slice.call(n,-1)+r,n=Math.floor(n/10);return(n?e[n]||"":"$")+r}})})),i&&(e.global?e.lastIndex=0:e.lastIndex=l),r},String.prototype.split=function(t,n){if(!XRegExp.isRegExp(t))return o.split.apply(this,arguments);var s,l,i=this+"",a=[],r=0;if(n===e||0>+n)n=1/0;else if(n=Math.floor(+n),!n)return[];for(t=XRegExp.copyAsGlobal(t);(s=t.exec(i))&&!(t.lastIndex>r&&(a.push(i.slice(r,s.index)),s.length>1&&s.index<i.length&&Array.prototype.push.apply(a,s.slice(1)),l=s[0].length,r=t.lastIndex,a.length>=n));)t.lastIndex===s.index&&t.lastIndex++;return r===i.length?(!o.test.call(t,"")||l)&&a.push(""):a.push(i.slice(r)),a.length>n?a.slice(0,n):a},XRegExp.addToken(/\(\?#[^)]*\)/,function(e){return o.test.call(i,e.input.slice(e.index+e[0].length))?"":"(?:)"}),XRegExp.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),XRegExp.addToken(/\(\?<([$\w]+)>/,function(e){return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=f(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]}),XRegExp.addToken(/\[\^?]/,function(e){return"[]"===e[0]?"\\b\\B":"[\\s\\S]"}),XRegExp.addToken(/^\(\?([imsx]+)\)/,function(e){return this.setFlag(e[1]),""}),XRegExp.addToken(/(?:\s+|#.*)+/,function(e){return o.test.call(i,e.input.slice(e.index+e[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})}();